
const { signPng } = require('./swu-sign-png');
const len = 45;

it('should pass', () => {
  expect(true).toBe(true);
})

it('should have return a sign image', async () => {
  const res = await signPng('ù†ÄÒÄÄíÒÄÄöÒãö•Òãõ©ù†Éù§üù§©Òãõ©ù£µù§êÒÄÄíù§áù£§ÒÜà•ù§êù§ÜÒÄÄöù£Æù£≠');
  expect(res.toString('base64').substring(0,len)).toBe('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'.substring(0,len))
})

it('should return a blank png for invalid key', async () => {
  const res = await signPng('ÒÜà∂');
  expect(res.toString('base64').substring(0,len)).toBe('iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABmJLR0QA/wD/AP+gvaeTAAAAC0lEQVQImWNgAAIAAAUAAWJVMogAAAAASUVORK5CYII='.substring(0,len))
})

it('should have correct width', async () => {
  const res = await signPng('ù†ÄÒÄÄíÒÄÄöÒãö•Òãõ©ù†Éù§üù§©Òãõ©ù£µù§êÒÄÄíù§áù£§ÒÜà•ù§êù§ÜÒÄÄöù£Æù£≠', { width: 100 });
  expect(res.toString('base64').substring(0,len)).toBe('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'.substring(0,len));
})
